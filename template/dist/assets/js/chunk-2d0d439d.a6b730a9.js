(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d439d"],{"5fb8":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"disable-text-selection"},[s("b-row",{staticClass:"app-row survey-app"},[s("b-colxx",{attrs:{lg:"2"}}),e._v(" "),s("b-colxx",{attrs:{lg:"10"}},[s("div",{staticClass:"mb-2 text-center"},[s("h1",[e._v("Notifications")])]),e._v(" "),s("div",{staticClass:"separator mb-5"}),e._v(" "),s("b-row",{key:"itemList"},e._l(e.Items,(function(t,n){return s("b-colxx",{key:"item"+n,attrs:{xxs:"12"}},[s("survey-list-item",{key:t.id,attrs:{data:t,"selected-items":e.selectedItems},on:{"toggle-item":e.toggleItem}})],1)})),1)],1)],1)],1)},l=[],i=(s("4de4"),s("caad"),s("d81d"),s("fb6a"),s("2532"),s("2909")),a=s("5530"),c=s("2f62"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-card",{staticStyle:{margin:"5px"},attrs:{"no-body":""}},[s("div",{staticClass:"d-flex flex-grow-1 min-width-zero"},[s("b-card-body",{staticClass:"align-self-center d-flex flex-column flex-md-row justify-content-between min-width-zero align-items-md-center pb-2"},["A"==e.currentUser.role?s("p",{staticClass:"align-middle d-inline-block"},[s("span",{staticClass:"font-weight-bold text-primary"},[e._v(e._s(e.data.whoAskName)+" request:")]),e._v(' "'+e._s(e.data.request_text)+'".')]):e._e(),e._v(" "),"LC"==e.data.notifType&&"U"==e.currentUser.role?s("span",{staticClass:"align-middle d-inline-block"},[e._v(e._s(e.data.senderUsername)+' liked your comment "'+e._s(e.data.commentText)+'".  ')]):e._e(),e._v(" "),"CR"==e.data.notifType&&"U"==e.currentUser.role?s("span",{staticClass:"align-middle d-inline-block"},[e._v(e._s(e.data.senderUsername)+' replied your comment "'+e._s(e.data.commentText)+'".  ')]):e._e(),e._v(" "),"U"==e.currentUser.role?s("p",{staticClass:"mb-1 text-muted text-small w-15 w-xs-100"},[e._v(e._s(e.convertFromStringToDate(e.data.date)))]):e._e()])],1),e._v(" "),s("div",{staticClass:"card-body pt-1"},[s("p",{staticClass:"mb-0",domProps:{innerHTML:e._s(e.data.detail)}})])])},r=[],d=(s("d3b7"),s("ac1f"),s("25f0"),s("1276"),s("2b47")),m=s("042b"),u={props:["data","selectedItems"],data:function(){return{adminRoot:d["a"]}},methods:{convertFromStringToDate:function(e){var t=e.split("T"),s=t[0].split("-"),n=t[1].split(":");new Date(s[2],s[1]-1,s[0],n[0],n[1],n[2]);return m(s[0]+"-"+s[1]+"-"+s[2]+" "+n[0]+":"+n[1]+":"+n[2],"YYYY-M-D HH:mm:ss").locale("fa").format("YYYY/M/D - HH:mm:ss").toString()},toggleItem:function(e,t){this.$emit("toggle-item",e,t)}},computed:Object(a["a"])({},Object(c["c"])({currentUser:"currentUser"}))},h=u,b=s("2877"),f=Object(b["a"])(h,o,r,!1,null,null,null),p=f.exports,I=s("bc3a"),v=s.n(I),g={components:{"survey-list-item":p},data:function(){return{Items:[],sort:{column:"title",label:"Title"},sortOptions:[{column:"title",label:"Title"},{column:"category",label:"Category"},{column:"label",label:"Label"},{column:"status",label:"Status"}],search:"",selectedItems:[],categories:[{label:"Development",value:"Development"},{label:"Workplace",value:"Workplace"},{label:"Hardware",value:"Hardware"}],labels:[{label:"EDUCATION",value:"EDUCATION",color:"secondary"},{label:"NEW FRAMEWORK",value:"NEW FRAMEWORK",color:"primary"},{label:"PERSONAL",value:"PERSONAL",color:"info"}],statuses:[{text:"ACTIVE",value:"ACTIVE"},{text:"COMPLETED",value:"COMPLETED"}]}},computed:Object(a["a"])({},Object(c["c"])({currentUser:"currentUser"})),methods:Object(a["a"])(Object(a["a"])({},Object(c["b"])(["getSurveyItems"])),{},{isSelectedAll:function(){return this.selectedItems.length>=this.surveyItems.length},isAnyItemSelected:function(){return this.selectedItems.length>0&&this.selectedItems.length<this.surveyItems.length},loadItems:function(){var e=this,t={id:this.currentUser.id},s={personId:this.currentUser.id};"A"==this.currentUser.role?v.a.post(d["b"]+"SendRequestNotification/",s).then((function(e){return console.log(e),e.data})).then((function(t){e.Items=t})):v.a.post(d["b"]+"showNotification/",t).then((function(e){return console.log(e),e.data})).then((function(t){e.Items=t}))},changeOrderBy:function(e){this.sort=e},selectAll:function(e){this.selectedItems.length>=this.surveyItems.length?e&&(this.selectedItems=[]):this.selectedItems=this.surveyItems.map((function(e){return e.id}))},keymap:function(e){switch(e.srcKey){case"select":this.selectAll(!1);break;case"undo":this.selectedItems=[];break}},getIndex:function(e,t,s){for(var n=0;n<t.length;n++)if(t[n][s]===e)return n;return-1},toggleItem:function(e,t){if(e.shiftKey&&this.selectedItems.length>0){var s,n=this.surveyItems,l=this.getIndex(t,n,"id"),a=this.getIndex(this.selectedItems[this.selectedItems.length-1],n,"id");n=n.slice(Math.min(l,a),Math.max(l,a)+1),(s=this.selectedItems).push.apply(s,Object(i["a"])(n.map((function(e){return e.id}))))}else this.selectedItems.includes(t)?this.selectedItems=this.selectedItems.filter((function(e){return e!==t})):this.selectedItems.push(t)},handleContextmenu:function(e){this.selectedItems.includes(e.key)||(this.selectedItems=[e.key])},onContextCopy:function(){console.log("context menu item clicked - Copy Items: ",this.selectedItems)},onContextArchive:function(){console.log("context menu item clicked - Move to Archive Items: ",this.selectedItems)},onContextDelete:function(){console.log("context menu item clicked - Delete Items: ",this.selectedItems)}}),mounted:function(){this.loadItems()}},x=g,y=Object(b["a"])(x,n,l,!1,null,null,null);t["default"]=y.exports}}]);